<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>绘制圆弧</title>
	<script type="text/javascript">
function trans(){
	       var canvas = document.getElementById("mycanvas");
            if (canvas == null)
                return false;
            var context = canvas.getContext("2d");
            context.save(); //保存了当前context的状态
            context.fillStyle = "#EEEEFF";
            context.fillRect(0, 0, 400, 300);

            context.fillStyle = "rgba(255,0,0,0.1)";
            //平移 缩放 旋转  1 2 3        
            context.translate(100, 100);
            context.scale(0.5, 0.5);
            context.rotate(Math.PI / 4);
            context.fillRect(0, 0, 100, 100);

            context.restore(); //恢复到刚刚保存的状态,保存恢复只能使用一次
            context.save(); //保存了当前context的状态
            context.fillStyle = "rgba(255,0,0,0.2)";
            //平移 旋转 缩放 1 3 2
            context.translate(100, 100);
            context.rotate(Math.PI / 4);
            context.scale(0.5, 0.5);
            context.fillRect(0, 0, 100, 100);

            context.restore(); //恢复到刚刚保存的状态
            context.save(); //保存了当前context的状态
            context.fillStyle = "rgba(255,0,0,0.3)";
            //缩放 平移 旋转 2 1 3 
            context.scale(0.5, 0.5);
            context.translate(100, 100);
            context.rotate(Math.PI / 4);
            context.fillRect(0, 0, 100, 100);

            context.restore(); //恢复到刚刚保存的状态
            context.save(); //保存了当前context的状态
            context.fillStyle = "rgba(255,0,0,0.4)";
            //缩放 旋转 平移  2 3  1 
            context.scale(0.5, 0.5);
            context.rotate(Math.PI / 4);
            context.translate(100, 100);
            context.fillRect(0, 0, 100, 100);
            context.restore(); //恢复到刚刚保存的状态
            context.save(); //保存了当前context的状态
            context.fillStyle = "rgba(255,0,0,0.5)";
            //旋转 平移 缩放  3 1 2 
            context.rotate(Math.PI / 4);
            context.translate(100, 100);
            context.scale(0.5, 0.5);
            context.fillRect(0, 0, 100, 100);
            context.restore(); //恢复到刚刚保存的状态
            context.save(); //保存了当前context的状态
            context.fillStyle = "rgba(255,0,0,1)";
            //旋转 缩放 平移   3 2 1 
            context.rotate(Math.PI / 4);
            context.scale(0.5, 0.5);
            context.translate(100, 100);
            context.fillRect(0, 0, 100, 100);
         
}

	</script>
</head>
<body>
	<input type='button' onclick='trans()' value='图形变换'>
	<canvas id='mycanvas' height="400" width='400'></canvas>
</body>
</html>